/*! For license information please see 7037.b18a24afd9bf10e9ceec.js.LICENSE.txt */
(self.webpackChunk_agogpixel_phaser3_demo=self.webpackChunk_agogpixel_phaser3_demo||[]).push([[7037],{78757:(t,s,e)=>{var i=e(69186),n=e(46236),o=e(12063),r=new i({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(t,s){r.prototype.hasOwnProperty(t)||(r.prototype[t]=s)},r.remove=function(t){r.prototype.hasOwnProperty(t)&&delete r.prototype[t]},n.register("GameObjectCreator",r,"make"),t.exports=r},66642:(t,s,e)=>{var i=e(69186),n=e(46236),o=e(12063),r=new i({initialize:function(t){this.scene=t,this.systems=t.sys,this.events=t.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(t,s){r.prototype.hasOwnProperty(t)||(r.prototype[t]=s)},r.remove=function(t){r.prototype.hasOwnProperty(t)&&delete r.prototype[t]},n.register("GameObjectFactory",r,"add"),t.exports=r},25028:t=>{var s={},e={install:function(t){for(var e in s)t[e]=s[e]},register:function(t,e){s[t]=e},destroy:function(){s={}}};t.exports=e},87037:(t,s,e)=>{var i=e(69186),n=e(24496),o=e(26729),r=e(25028),l=e(78757),u=e(66642),a=e(25738),h=e(46236),g=e(63083),p=new i({Extends:o,initialize:function(t){o.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once(n.BOOT,this.boot,this)},boot:function(){var t,s,e,i,o,r,l,u=this.game.config,h=u.installGlobalPlugins;for(h=h.concat(this._pendingGlobal),t=0;t<h.length;t++)s=h[t],e=a(s,"key",null),i=a(s,"plugin",null),o=a(s,"start",!1),r=a(s,"mapping",null),l=a(s,"data",null),e&&(i?this.install(e,i,o,r,l):console.warn("Missing `plugin` for key: "+e));for(h=(h=u.installScenePlugins).concat(this._pendingScene),t=0;t<h.length;t++)s=h[t],e=a(s,"key",null),i=a(s,"plugin",null),r=a(s,"mapping",null),e&&(i?this.installScenePlugin(e,i,r):console.warn("Missing `plugin` for key: "+e));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(t,s,e){var i,n,o,r=this.game,l=t.scene,u=t.settings.map,a=t.settings.isBooted;for(i=0;i<s.length;i++)r[n=s[i]]?(t[n]=r[n],u.hasOwnProperty(n)&&(l[u[n]]=t[n])):"game"===n&&u.hasOwnProperty(n)&&(l[u[n]]=r);for(var g=0;g<e.length;g++)for(o=e[g],i=0;i<o.length;i++)if(n=o[i],h.hasCore(n)){var p=h.getCore(n),c=p.mapping,d=new p.plugin(l,this,c);t[c]=d,p.custom?l[c]=d:u.hasOwnProperty(c)&&(l[u[c]]=d),a&&d.boot()}for(o=this.plugins,i=0;i<o.length;i++){var f=o[i];f.mapping&&(l[f.mapping]=f.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t.concat(this.scenePlugins)},installScenePlugin:function(t,s,e,i,n){if(void 0===n&&(n=!1),"function"==typeof s){if(h.hasCore(t)){if(!n&&h.hasCore(t))return void console.warn("Scene Plugin key in use: "+t)}else h.register(t,s,e,!0),this.scenePlugins.push(t);if(i){var o=new s(i,this,t);i.sys[t]=o,e&&""!==e&&(i[e]=o),o.boot()}}else console.warn("Invalid Scene Plugin: "+t)},install:function(t,s,e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=null),void 0===n&&(n=null),"function"!=typeof s)return console.warn("Invalid Plugin: "+t),null;if(h.hasCustom(t))return console.warn("Plugin key in use: "+t),null;if(null!==i&&(e=!0),this.game.isBooted){if(h.registerCustom(t,s,i,n),e)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:s,start:e,mapping:i,data:n});return null},getIndex:function(t){for(var s=this.plugins,e=0;e<s.length;e++)if(s[e].key===t)return e;return-1},getEntry:function(t){var s=this.getIndex(t);if(-1!==s)return this.plugins[s]},isActive:function(t){var s=this.getEntry(t);return s&&s.active},start:function(t,s){void 0===s&&(s=t);var e=this.getEntry(s);return e&&!e.active?(e.active=!0,e.plugin.start()):e||(e=this.createEntry(t,s)),e?e.plugin:null},createEntry:function(t,s){var e=h.getCustom(t);if(e){var i=new e.plugin(this);e={key:s,plugin:i,active:!0,mapping:e.mapping,data:e.data},this.plugins.push(e),i.init(e.data),i.start()}return e},stop:function(t){var s=this.getEntry(t);return s&&s.active&&(s.active=!1,s.plugin.stop()),this},get:function(t,s){void 0===s&&(s=!0);var e=this.getEntry(t);if(e)return e.plugin;var i=this.getClass(t);return i&&s?(e=this.createEntry(t,t))?e.plugin:null:i||null},getClass:function(t){return h.getCustomClass(t)},removeGlobalPlugin:function(t){var s=this.getEntry(t);s&&g(this.plugins,s),h.removeCustom(t)},removeScenePlugin:function(t){g(this.scenePlugins,t),h.remove(t)},registerGameObject:function(t,s,e){return s&&u.register(t,s),e&&l.register(t,e),this},removeGameObject:function(t,s,e){return void 0===s&&(s=!0),void 0===e&&(e=!0),s&&u.remove(t),e&&l.remove(t),this},registerFileType:function(t,s,e){r.register(t,s),e&&e.sys.load&&(e.sys.load[t]=s)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=p}}]);