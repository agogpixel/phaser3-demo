/*! For license information please see 345.3293277b1385b1bfe732.js.LICENSE.txt */
(self.webpackChunk_agogpixel_phaser3_demo=self.webpackChunk_agogpixel_phaser3_demo||[]).push([[345],{95018:(e,t,r)=>{var i=r(2543),a=r(69186),s=r(90316),n=r(81712),o=r(64909),h=r(76076),u=r(16068),m=new a({initialize:function(e,t,r){this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,h(r,"frames",[]),h(r,"defaultTextureKey",null),h(r,"sortFrames",!0)),this.frameRate=h(r,"frameRate",null),this.duration=h(r,"duration",null),this.msPerFrame,this.skipMissedFrames=h(r,"skipMissedFrames",!0),this.delay=h(r,"delay",0),this.repeat=h(r,"repeat",0),this.repeatDelay=h(r,"repeatDelay",0),this.yoyo=h(r,"yoyo",!1),this.showOnStart=h(r,"showOnStart",!1),this.hideOnComplete=h(r,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(e,t,r,i){null===r&&null===i?(e.frameRate=24,e.duration=24/t*1e3):r&&null===i?(e.duration=r,e.frameRate=t/(r/1e3)):(e.frameRate=i,e.duration=t/i*1e3),e.msPerFrame=1e3/e.frameRate},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var r=this.getFrames(this.manager.textureManager,t);if(r.length>0){if(0===e)this.frames=r.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(r);else{var i=this.frames.slice(0,e),a=this.frames.slice(e);this.frames=i.concat(r,a)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},getFirstTick:function(e){e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,r,i){void 0===i&&(i=!0);var a,s,n,m,f=[],p=1;if("string"==typeof t){m=t;var c=e.get(m).getFrameNames();i&&u(c),t=[],c.forEach((function(e){t.push({key:m,frame:e})}))}if(!Array.isArray(t)||0===t.length)return f;for(n=0;n<t.length;n++){var l=t[n],d=h(l,"key",r);if(d){var F=h(l,"frame",0),g=e.getFrame(d,F);(s=new o(d,F,p,g)).duration=h(l,"duration",0),s.isFirst=!a,a&&(a.nextFrame=s,s.prevFrame=a),f.push(s),a=s,p++}}if(f.length>0){s.isLast=!0,s.nextFrame=f[0],f[0].prevFrame=s;var v=1/(f.length-1);for(n=0;n<f.length;n++)f[n].progress=n*v}return f},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameByProgress:function(e){return e=i(e,0,1),n(e,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e.yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e.inReverse&&e.forward?e.forward=!1:this.repeatAnimation(e):e.complete():this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),e.inReverse===!t&&e.repeatCounter>0)return(0===e.repeatDelay||e.pendingRepeat)&&(e.forward=t),void this.repeatAnimation(e);if(e.inReverse===t||0!==e.repeatCounter){e.forward=t;var r=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,r)}else e.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e.yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?(e.inReverse&&!e.forward||(e.forward=!0),this.repeatAnimation(e)):e.complete():this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.setCurrentFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return-1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop){if(0===e._pendingStopValue)return e.stop();e._pendingStopValue--}e.repeatDelay>0&&!e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e.repeatDelay):(e.repeatCounter--,e.forward?e.setCurrentFrame(e.currentFrame.nextFrame):e.setCurrentFrame(e.currentFrame.prevFrame),e.isPlaying&&(this.getNextTick(e),e.handleRepeat()))},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(t){e.frames.push(t.toJSON())})),e},updateFrameSequence:function(){for(var e,t=this.frames.length,r=1/(t-1),i=0;i<t;i++)(e=this.frames[i]).index=i+1,e.isFirst=!1,e.isLast=!1,e.progress=i*r,0===i?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[i+1])):i===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[i-1],e.nextFrame=this.frames[i+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});e.exports=m},64909:(e,t,r)=>{var i=new(r(69186))({initialize:function(e,t,r,i,a){void 0===a&&(a=!1),this.textureKey=e,this.textureFrame=t,this.index=r,this.frame=i,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=a},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});e.exports=i},59021:e=>{e.exports="add"},15687:e=>{e.exports="animationcomplete"},17084:e=>{e.exports="animationcomplete-"},48571:e=>{e.exports="animationrepeat"},36994:e=>{e.exports="animationrestart"},21036:e=>{e.exports="animationstart"},48492:e=>{e.exports="animationstop"},11937:e=>{e.exports="animationupdate"},18742:e=>{e.exports="pauseall"},34018:e=>{e.exports="remove"},45208:e=>{e.exports="resumeall"},90316:(e,t,r)=>{e.exports={ADD_ANIMATION:r(59021),ANIMATION_COMPLETE:r(15687),ANIMATION_COMPLETE_KEY:r(17084),ANIMATION_REPEAT:r(48571),ANIMATION_RESTART:r(36994),ANIMATION_START:r(21036),ANIMATION_STOP:r(48492),ANIMATION_UPDATE:r(11937),PAUSE_ALL:r(18742),REMOVE_ANIMATION:r(34018),RESUME_ALL:r(45208)}},21342:(e,t,r)=>{var i=new(r(69186))({initialize:function(e){if(this.entries={},this.size=0,Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])},set:function(e,t){return this.has(e)||this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var r in t)e.push(t[r]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(e){delete this.entries[e]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var r in t)e.push(t[r]);return e},dump:function(){var e=this.entries;for(var t in console.group("Map"),e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var r in t)if(!1===e(r,t[r]))break;return this},contains:function(e){var t=this.entries;for(var r in t)if(t[r]===e)return!0;return!1},merge:function(e,t){void 0===t&&(t=!1);var r=this.entries,i=e.entries;for(var a in i)r.hasOwnProperty(a)&&t?r[a]=i[a]:this.set(a,i[a]);return this}});e.exports=i},81712:e=>{e.exports=function(e,t,r){if(!t.length)return NaN;if(1===t.length)return t[0];var i,a,s=1;if(r){if(e<t[0][r])return t[0];for(;t[s][r]<e;)s++}else for(;t[s]<e;)s++;return s>t.length&&(s=t.length),r?(i=t[s-1][r],(a=t[s][r])-e<=e-i?t[s]:t[s-1]):(i=t[s-1],(a=t[s])-e<=e-i?a:i)}},16068:e=>{e.exports=function(e){var t=/\D/g;return e.sort((function(e,r){return parseInt(e.replace(t,""),10)-parseInt(r.replace(t,""),10)})),e}}}]);