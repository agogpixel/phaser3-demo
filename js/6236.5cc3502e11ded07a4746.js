/*! For license information please see 6236.5cc3502e11ded07a4746.js.LICENSE.txt */
(self.webpackChunk_agogpixel_phaser3_demo=self.webpackChunk_agogpixel_phaser3_demo||[]).push([[6236],{84349:e=>{e.exports="addfile"},15530:e=>{e.exports="complete"},2855:e=>{e.exports="filecomplete"},51215:e=>{e.exports="filecomplete-"},79508:e=>{e.exports="loaderror"},72255:e=>{e.exports="load"},9606:e=>{e.exports="fileprogress"},66239:e=>{e.exports="postprocess"},11411:e=>{e.exports="progress"},92329:e=>{e.exports="start"},40:(e,t,s)=>{e.exports={ADD:s(84349),COMPLETE:s(15530),FILE_COMPLETE:s(2855),FILE_KEY_COMPLETE:s(51215),FILE_LOAD_ERROR:s(79508),FILE_LOAD:s(72255),FILE_PROGRESS:s(9606),POST_PROCESS:s(66239),PROGRESS:s(11411),START:s(92329)}},26236:(e,t,s)=>{var i=s(69186),n=s(7875),r=s(12063),a=s(24496),h=s(76076),o=s(40),u=s(45733),c=s(61116),g=s(72444),p=new i({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,t){Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++)this._pending.push({key:"default",scene:t[s],autoStart:0===s,data:{}})}e.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,t,s,i;for(e=0;e<this._pending.length;e++){var n;s=(t=this._pending[e]).key,(i=t.scene)instanceof c?n=this.createSceneFromInstance(s,i):"object"==typeof i?n=this.createSceneFromObject(s,i):"function"==typeof i&&(n=this.createSceneFromFunction(s,i)),s=n.sys.settings.key,this.keys[s]=n,this.scenes.push(n),this._data[s]&&(n.sys.settings.data=this._data[s].data,this._data[s].autoStart&&(t.autoStart=!0)),(t.autoStart||n.sys.settings.active)&&this._start.push(s)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e=this._pending.length,t=this._queue.length;if(0!==e||0!==t){var s,i;if(e){for(s=0;s<e;s++)i=this._pending[s],this.add(i.key,i.scene,i.autoStart,i.data);for(s=0;s<this._start.length;s++)i=this._start[s],this.start(i);return this._start.length=0,void(this._pending.length=0)}for(s=0;s<this._queue.length;s++)this[(i=this._queue[s]).op](i.keyA,i.keyB);this._queue.length=0}},add:function(e,t,s,i){return void 0===s&&(s=!1),void 0===i&&(i={}),this.isProcessing||!this.isBooted?(this._pending.push({key:e,scene:t,autoStart:s,data:i}),this.isBooted||(this._data[e]={data:i}),null):(e=this.getKey(e,t),t instanceof c?n=this.createSceneFromInstance(e,t):"object"==typeof t?(t.key=e,n=this.createSceneFromObject(e,t)):"function"==typeof t&&(n=this.createSceneFromFunction(e,t)),n.sys.settings.data=i,e=n.sys.settings.key,this.keys[e]=n,this.scenes.push(n),(s||n.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),n);var n},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var s=this.scenes.indexOf(t),i=t.sys.settings.key;s>-1&&(delete this.keys[i],this.scenes.splice(s,1),this._start.indexOf(i)>-1&&(s=this._start.indexOf(i),this._start.splice(s,1)),t.sys.destroy())}return this},bootScene:function(e){var t,s=e.sys,i=s.settings;s.sceneUpdate=u,e.init&&(e.init.call(e,i.data),i.status=n.INIT,i.isTransition&&s.events.emit(r.TRANSITION_INIT,i.transitionFrom,i.transitionDuration)),s.load&&(t=s.load).reset(),t&&e.preload?(e.preload.call(e),0===t.list.size?this.create(e):(i.status=n.LOADING,t.once(o.COMPLETE,this.loadComplete,this),t.start())):this.create(e)},loadComplete:function(e){this.create(e.scene)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var s=this.scenes.length-1;s>=0;s--){var i=this.scenes[s].sys;i.settings.status>n.START&&i.settings.status<=n.RUNNING&&i.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var s=this.scenes[t].sys;s.settings.visible&&s.settings.status>=n.LOADING&&s.settings.status<n.SLEEPING&&s.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,s=t.settings;e.create&&(s.status=n.CREATING,e.create.call(e,s.data),s.status===n.DESTROYED)||(s.isTransition&&t.events.emit(r.TRANSITION_START,s.transitionFrom,s.transitionDuration),e.update&&(t.sceneUpdate=e.update),s.status=n.RUNNING,t.events.emit(r.CREATE,e))},createSceneFromFunction:function(e,t){var s=new t;if(s instanceof c){var i=s.sys.settings.key;if(""!==i&&(e=i),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,s)}return s.sys=new g(s),s.sys.settings.key=e,s.sys.init(this.game),s},createSceneFromInstance:function(e,t){return""===t.sys.settings.key&&(t.sys.settings.key=e),t.sys.init(this.game),t},createSceneFromObject:function(e,t){var s=new c(t),i=s.sys.settings.key;""!==i?e=i:s.sys.settings.key=e,s.sys.init(this.game);for(var n=["init","preload","create","update","render"],r=0;r<n.length;r++){var a=h(t,n[r],null);a&&(s[n[r]]=a)}if(t.hasOwnProperty("extend"))for(var o in t.extend)if(t.extend.hasOwnProperty(o)){var u=t.extend[o];"data"===o&&s.hasOwnProperty("data")&&"object"==typeof u?s.data.merge(u):"sys"!==o&&(s[o]=u)}return s},getKey:function(e,t){if(e||(e="default"),"function"==typeof t)return e;if(t instanceof c?e=t.sys.settings.key:"object"==typeof t&&t.hasOwnProperty("key")&&(e=t.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScenes:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var s=[],i=this.scenes,n=0;n<i.length;n++){var r=i[n];r&&(!e||e&&r.sys.isActive())&&s.push(r)}return t?s.reverse():s},getScene:function(e){if("string"==typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var s=this.getScene(e);return s&&s.sys.pause(t),this},resume:function(e,t){var s=this.getScene(e);return s&&s.sys.resume(t),this},sleep:function(e,t){var s=this.getScene(e);return s&&!s.sys.isTransitioning()&&s.sys.sleep(t),this},wake:function(e,t){var s=this.getScene(e);return s&&s.sys.wake(t),this},run:function(e,t){var s=this.getScene(e);if(!s){for(var i=0;i<this._pending.length;i++)if(this._pending[i].key===e){this.queueOp("start",e,t);break}return this}s.sys.isSleeping()?s.sys.wake(t):s.sys.isPaused()?s.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var s=this.getScene(e);if(s){var i,r=s.sys;if(r.isActive()||r.isPaused())r.shutdown(),r.sceneUpdate=u,r.start(t);else if(r.sceneUpdate=u,r.start(t),r.load&&(i=r.load),i&&r.settings.hasOwnProperty("pack")&&(i.reset(),i.addPack({payload:r.settings.pack})))return r.settings.status=n.LOADING,i.once(o.COMPLETE,this.payloadComplete,this),i.start(),this;this.bootScene(s)}return this},stop:function(e,t){var s=this.getScene(e);return s&&!s.sys.isTransitioning()&&s.sys.shutdown(t),this},switch:function(e,t){var s=this.getScene(e),i=this.getScene(t);return s&&i&&s!==i&&(this.sleep(e),this.isSleeping(t)?this.wake(t):this.start(t)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t<this.scenes.length){var s=this.getScene(e);this.scenes.splice(t,1),this.scenes.push(s)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t>0){var s=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(s)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t>0){var s=t-1,i=this.getScene(e),n=this.getAt(s);this.scenes[t]=n,this.scenes[s]=i}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t<this.scenes.length-1){var s=t+1,i=this.getScene(e),n=this.getAt(s);this.scenes[t]=n,this.scenes[s]=i}}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(-1!==s&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),this.scenes.splice(s+1,0,n)}}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(-1!==s&&-1!==i){var n=this.getAt(i);this.scenes.splice(i,1),0===s?this.scenes.unshift(n):this.scenes.splice(s,0,n)}}return this},queueOp:function(e,t,s){return this._queue.push({op:e,keyA:t,keyB:s}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:t});else{var s=this.getIndex(e),i=this.getIndex(t);if(s!==i&&-1!==s&&-1!==i){var n=this.getAt(s);this.scenes[s]=this.scenes[i],this.scenes[i]=n}}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],s=0;s<this.scenes.length;s++){var i=this.scenes[s].sys,r=!i.settings.visible||i.settings.status!==n.RUNNING&&i.settings.status!==n.PAUSED?"[-] ":"[*] ";r+=i.settings.key+" ("+t[i.settings.status]+")",e.push(r)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++)this.scenes[e].sys.destroy();this.update=u,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});e.exports=p}}]);